# Provider selection
# CITYSORT_OCR_PROVIDER: local | azure_di
# CITYSORT_CLASSIFIER_PROVIDER: rules | openai | anthropic
CITYSORT_OCR_PROVIDER=local
CITYSORT_CLASSIFIER_PROVIDER=rules
# Optional: custom rules path (defaults to /data/document_rules.json)
CITYSORT_RULES_PATH=
# Confidence threshold (0.0-0.99). Higher = stricter auto-routing.
CITYSORT_CONFIDENCE_THRESHOLD=0.82
# Comma-separated doc types that must always go to human review.
CITYSORT_FORCE_REVIEW_DOC_TYPES=

# Azure Document Intelligence (used only when CITYSORT_OCR_PROVIDER=azure_di)
AZURE_DOCUMENT_INTELLIGENCE_ENDPOINT=
AZURE_DOCUMENT_INTELLIGENCE_API_KEY=
AZURE_DOCUMENT_INTELLIGENCE_MODEL=prebuilt-layout
AZURE_DOCUMENT_INTELLIGENCE_API_VERSION=2024-11-30

# OpenAI classification (used only when CITYSORT_CLASSIFIER_PROVIDER=openai)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini

# Anthropic classification (used only when CITYSORT_CLASSIFIER_PROVIDER=anthropic)
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-5-sonnet-latest

# Authentication / RBAC
# Set true in production to require bearer auth or API keys on API routes.
CITYSORT_REQUIRE_AUTH=false
# Change in production.
CITYSORT_AUTH_SECRET=change-me-in-production
# Access token lifetime in minutes.
CITYSORT_ACCESS_TOKEN_TTL_MINUTES=720

# Durable worker (async processing queue)
CITYSORT_WORKER_ENABLED=true
CITYSORT_WORKER_POLL_INTERVAL_SECONDS=2
CITYSORT_WORKER_MAX_ATTEMPTS=3

# Deployment integration
# CITYSORT_DEPLOY_PROVIDER: local | render | github
CITYSORT_DEPLOY_PROVIDER=local
# Local deploy command (optional). Supports {environment}, {actor}, {notes}.
CITYSORT_DEPLOY_COMMAND=
CITYSORT_DEPLOY_COMMAND_TIMEOUT_SECONDS=300

# Render deploy integration
CITYSORT_RENDER_DEPLOY_HOOK_URL=
CITYSORT_RENDER_API_TOKEN=
CITYSORT_RENDER_SERVICE_ID=

# GitHub Actions deploy integration
CITYSORT_GITHUB_TOKEN=
CITYSORT_GITHUB_OWNER=
CITYSORT_GITHUB_REPO=
CITYSORT_GITHUB_WORKFLOW_ID=
CITYSORT_GITHUB_REF=main
